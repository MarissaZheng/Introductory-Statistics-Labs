---
title: "Lab 1: Summarizing and Visualizing Data"
output: learnr::tutorial
tutorial:
  id: "Lab 1"
  version: 2.0
runtime: shiny_prerendered
---

```{r setup, include=FALSE}
library(learnr)
knitr::opts_chunk$set(echo = FALSE)
titanic <- read.csv("http://calpoly.edu/~kbodwin/data/titanic.csv")
source("http://calpoly.edu/~kbodwin/scripts/makeStrings.R")
library(tidyverse)
```

## Introduction

The `titanic` dataset you worked with in the PreLab was actually an incomplete and slightly altered version of the real data collected after the sinking of the Titanic.  For today's Lab, we will load the full version.



Answer the following questions about the Titanic data.  You can, and should, make use of the Pre-Lab activity to figure out what lines of code to use.  However, you will **not** be able to answer the questions using **only** the Pre-Lab, since the dataset is different.  Instead, you should copy lines of code into this document and make the appropriate changes.

## Summarizing the dataset

Use this box to write and run any code that you use to help answer the questions in this section:

```{r q_1, exercise = TRUE}

```

### Questions

```{r q_1.1}
textInput("a_1.1.1",
           "How many Titanic passengers are represented in this dataset?",
           value = "",
           width = '80%', placeholder = NULL)

textInput("a_1.1.2",
           "How many people in this dataset were female?",
           value = "",
           width = '80%', placeholder = NULL)

textInput("a_1.1.3",
           "How old were the youngest and oldest people represented in this dataset?",
           value = "",
           width = '80%', placeholder = NULL)

textAreaInput("a_1.2",
           "Write a sentence or two about the individual in row 4.  What was their name, age, and gender?  What class did they travel in, and how much did they pay?  Were any family members on board with them?  Did they survive the journey?",
           value = "",
           width = '100%', 
           placeholder = NULL)
```

## Cleaning the Dataset

In the following box, write and run code that will get rid of rows of the dataset that have `NA`'s, and convert categorical variables to factors if necessary.

```{r ex_2_1, exercise = TRUE}

```

When you are finished, use the summary below to check your work.

```{r, context="server"}
output$summary <- renderPrint(summary(titanic))
```

```{r}
verbatimTextOutput(
  "summary"
)
```

## Visualizing the variables

Make an appropriate plot to display the fare prices of Titanic passengers.

```{r ex_3_1, exercise = TRUE}

```

```{r}
textAreaInput("a_3_1",
           "Discuss your plot, using vocabulary from class.",
           value = "",
           width = '100%', 
           placeholder = NULL)
```


Make an appropriate plot to display the cabin class of Titanic passengers.

```{r ex_3_2, exercise = TRUE}

```

```{r}
textAreaInput("a_3_2",
           "Discuss your plot, using vocabulary from class.",
           value = "",
           width = '100%', 
           placeholder = NULL)
```


Make an appropriate plot to compare fares across different cabin classes.

```{r ex_3_3, exercise = TRUE}

```

```{r}
textAreaInput("a_3_3",
           "Discuss your plot, using vocabulary from class.",
           value = "",
           width = '100%', 
           placeholder = NULL)
```

Make an appropriate plot to compare gender across different cabin classes.

```{r ex_3_4, exercise = TRUE}

```

```{r}
textAreaInput("a_3_4",
           "Discuss your plot, using vocabulary from class.",
           value = "",
           width = '100%', 
           placeholder = NULL)
```

## Who survived, and why?

Now it is your turn to be a statistician.  Notice that the variable `Survived` did not appear in your Pre-Lab dataset, but is present now.  This variable tells us whether a person survived the sinking of the Titanic (`1`) or not (`0`).  We would like to understand better why some people survived and some didn't. 

Use the following code and text boxes to construct an interesting analysis using the variable `Survived`.  You should make at least one plot showing the relationship between `Survived` and another variable (or more than one!).  

Your discussion should be about a paragraph long.  Write in complete sentences, use vocabulary where possible, and state your insights in terms of real world conclusions. Be sure to also include at least one numerical summary (e.g. mean or median) to support your observations.

```{r ex_4_1, exercise = TRUE}

```


```{r}
textAreaInput("a_4_1",
           "Your insight into Titanic survival:",
           value = "",
           width = '100%', 
           placeholder = NULL)
```

## Save your work

Choose File > Save Page As.  An HTML file will download to your computer.  Upload this to the assignment on PolyLearn.
